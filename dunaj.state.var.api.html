<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<meta name="author" content="Jozef Wagner">
<title>dunaj.state.var API</title>
<link rel="stylesheet" href="./dd.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>dunaj.state.var API</h1>
<div class="details">
<span id="author" class="author">Jozef Wagner</span><br>
<span id="revdate">0.6.0</span>
</div>
</div>
<div id="content">
<header id="dd-header"><div id="dd-logo"><a href="http://www.dunaj.org"><img src="dunaj.png"></img>Dunaj</a></div><div id="dd-mmenu"><a class="dd-mmlink" href="about.html"><i class="fa fa-info-circle dd-mmsh"></i> <span>About</span></a><a class="dd-mmlink" href="news.html"><i class="fa fa-bullhorn dd-mmsh"></i> <span>News</span></a><a class="dd-mmlink" href="start.html"><i class="fa fa-download dd-mmsh"></i> <span>Getting Started</span></a><a class="dd-mmlink dd-mmcur" href="doc.html"><i class="fa fa-book dd-mmsh"></i> <span>Documentation</span></a><a class="dd-mmlink" href="https://github.com/dunaj-project"><i class="fa fa-github dd-mmsh"></i> <span>Source at Github</span></a></div></header><div id="dd-flex"><nav id="dd-side-nav"><div class="dd-over"><div class="dd-nav-doc-header"><a href="api.html">API</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-0">bare</div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="bare.core.api.html">.core</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-0">clojure</div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="https://clojure.github.io/clojure/"><i>official docs</i></a></div><div class="dd-nav-doc-ns dd-nav-doc-item-0">dunaj</div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.bit.api.html">.bit</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.boolean.api.html">.boolean</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.buffer.api.html">.buffer</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.char.api.html">.char</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.coll.api.html">.coll</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.array-map.api.html">.array-map</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.batched-queue.api.html">.batched-queue</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.bvt-vector.api.html">.bvt-vector</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.cons-seq.api.html">.cons-seq</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.default.api.html">.default</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.empty-list.api.html">.empty-list</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.hamt-map.api.html">.hamt-map</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.hamt-set.api.html">.hamt-set</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.helper.api.html">.helper</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.lazy-seq.api.html">.lazy-seq</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.lazy-seq-map.api.html">.lazy-seq-map</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.lazy-seq-set.api.html">.lazy-seq-set</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.linked-list.api.html">.linked-list</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.primitive-vector.api.html">.primitive-vector</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.rbt-sorted-map.api.html">.rbt-sorted-map</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.rbt-sorted-set.api.html">.rbt-sorted-set</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.recipe.api.html">.recipe</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.tuple.api.html">.tuple</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.util.api.html">.util</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.compare.api.html">.compare</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.concurrent.api.html">.concurrent</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.concurrent.agent.api.html">.agent</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.concurrent.forkjoin.api.html">.forkjoin</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.concurrent.parallel.api.html">.parallel</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.concurrent.port.api.html">.port</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.concurrent.thread.api.html">.thread</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.core.api.html">.core</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.dev.api.html">.dev</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.env.api.html">.env</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.error.api.html">.error</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.feature.api.html">.feature</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.flow.api.html">.flow</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.format.api.html">.format</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.format.charset.api.html">.charset</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.format.clj.api.html">.clj</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.format.edn.api.html">.edn</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.format.helper.api.html">.helper</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.format.html.api.html">.html</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.format.json.api.html">.json</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.format.parser.api.html">.parser</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.format.printer.api.html">.printer</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.function.api.html">.function</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.host.api.html">.host</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.host.array.api.html">.array</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.host.batch.api.html">.batch</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.host.int.api.html">.int</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.host.number.api.html">.number</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.identifier.api.html">.identifier</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.lib.api.html">.lib</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.macro.api.html">.macro</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.math.api.html">.math</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.math.angle.api.html">.angle</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.math.precise.api.html">.precise</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.math.random.api.html">.random</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.math.unchecked.api.html">.unchecked</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.namespace.api.html">.namespace</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.poly.api.html">.poly</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.regex.api.html">.regex</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.repl.api.html">.repl</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.resource.api.html">.resource</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.resource.file.api.html">.file</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.resource.helper.api.html">.helper</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.resource.host.api.html">.host</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.resource.http.api.html">.http</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.resource.loopback.api.html">.loopback</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.resource.pipe.api.html">.pipe</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.resource.secure.api.html">.secure</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.resource.selector.api.html">.selector</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.resource.tcp.api.html">.tcp</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.resource.udp.api.html">.udp</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.set.api.html">.set</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.state.api.html">.state</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.state.basic.api.html">.basic</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.state.ref.api.html">.ref</a></div><div class="dd-nav-doc-item-cur dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.state.var.api.html">.var</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.state.weak.api.html">.weak</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.string.api.html">.string</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.threading.api.html">.threading</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.threading.last.api.html">.last</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.threading.second.api.html">.second</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.time.api.html">.time</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.type.api.html">.type</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.type.validation.api.html">.validation</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.uri.api.html">.uri</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.uuid.api.html">.uuid</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.version.api.html">.version</a></div><br></br></div></nav><nav id="dd-ns-nav"><div class="dd-over"><div class="dd-nav-ns-header"><a href="#dd-top">dunaj.state.var</a></div><div class="dd-nav-ns-var"><a href="#Var"><i class="dd-referred fa fa-fw fa-archive dd-mmsh"></i><span class="dd-referred dd-nav-ns-var-text">Var</span></a></div><div class="dd-nav-ns-var"><a href="#alter_root_BANG_"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">alter-root!</span></a></div><div class="dd-nav-ns-var"><a href="#bindings"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">bindings</span></a></div><div class="dd-nav-ns-var"><a href="#bound_QMARK_"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">bound?</span></a></div><div class="dd-nav-ns-var"><a href="#declare"><i class="dd-referred fa fa-fw fa-magic dd-mmsh"></i><span class="dd-referred dd-nav-ns-var-text">declare</span></a></div><div class="dd-nav-ns-var"><a href="#def"><i class="dd-referred fa fa-fw fa-magic dd-mmsh"></i><span class="dd-referred dd-nav-ns-var-text">def</span></a></div><div class="dd-nav-ns-var"><a href="#def_PLUS_"><i class="dd-referred fa fa-fw fa-magic dd-mmsh"></i><span class="dd-referred dd-nav-ns-var-text">def+</span></a></div><div class="dd-nav-ns-var"><a href="#defalias"><i class="fa fa-fw fa-magic dd-mmsh"></i><span class="dd-nav-ns-var-text">defalias</span></a></div><div class="dd-nav-ns-var"><a href="#defonce"><i class="dd-referred fa fa-fw fa-magic dd-mmsh"></i><span class="dd-referred dd-nav-ns-var-text">defonce</span></a></div><div class="dd-nav-ns-var"><a href="#find_var"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">find-var</span></a></div><div class="dd-nav-ns-var"><a href="#letvar"><i class="fa fa-fw fa-magic dd-mmsh"></i><span class="dd-nav-ns-var-text">letvar</span></a></div><div class="dd-nav-ns-var"><a href="#replace_macro_BANG_"><i class="fa fa-fw fa-magic dd-mmsh"></i><span class="dd-nav-ns-var-text">replace-macro!</span></a></div><div class="dd-nav-ns-var"><a href="#replace_var_BANG_"><i class="fa fa-fw fa-magic dd-mmsh"></i><span class="dd-nav-ns-var-text">replace-var!</span></a></div><div class="dd-nav-ns-var"><a href="#reset_root_BANG_"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">reset-root!</span></a></div><div class="dd-nav-ns-var"><a href="#thread_bound_QMARK_"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">thread-bound?</span></a></div><div class="dd-nav-ns-var"><a href="#var"><i class="dd-referred fa fa-fw fa-magic dd-mmsh"></i><span class="dd-referred dd-nav-ns-var-text">var</span></a></div><div class="dd-nav-ns-var"><a href="#var_QMARK_"><i class="dd-referred fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-referred dd-nav-ns-var-text">var?</span></a></div><div class="dd-nav-ns-var"><a href="#with_bindings"><i class="dd-referred fa fa-fw fa-magic dd-mmsh"></i><span class="dd-referred dd-nav-ns-var-text">with-bindings</span></a></div><div class="dd-nav-ns-var"><a href="#with_roots"><i class="fa fa-fw fa-magic dd-mmsh"></i><span class="dd-nav-ns-var-text">with-roots</span></a></div><br></br></div></nav><section id="dd-content"><div class="dd-over" tabindex="-1" id="dd-focus"><div id="header"><h1 id="dd-top">dunaj.state.var API</h1><div class="details">Copyright © 2013, 2015, &nbsp;<span class="author">Jozef Wagner</span><br><span id="revdate">version 0.6.0</span></div><div class="details">Additional copyright for parts of documentation and/or underlying implementation: Copyright © 2008, 2015, Rich Hickey and Clojure contributors.</div></div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Vars <span class="icon"><i class="fa fa-inbox"></i></span>, references with mutable root binding and thread
local bindings that can be rebound dynamically.</p>
</div>
<div class="paragraph">
<p>Derefing a var gets its thread binding, or if it&#8217;s not bound in
the current thread, gets its root binding. Var can have its
root binding unbound.</p>
</div>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="Var"><a class="link" href="#Var">Var</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/state/var.clj#L50">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-archive" title="Type"></i></span> TYPE</code></p>
</div>
<div class="paragraph">
<p><span class="icon"><i class="fa fa-plug" title="Extends"></i></span> Extends: <code><a href="dunaj.state.spi.html#ICloneable">ICloneable</a></code>, <code><a href="dunaj.function.spi.html#IInvocable">IInvocable</a></code>, <code><a href="dunaj.feature.spi.html#IMeta">IMeta</a></code>, <code><a href="dunaj.concurrent.port.spi.html#IMult">IMult</a></code>, <code><a href="dunaj.state.spi.html#IMutable">IMutable</a></code>, <code><a href="dunaj.feature.spi.html#IMutableMeta">IMutableMeta</a></code>, <code><a href="dunaj.identifier.spi.html#INamed">INamed</a></code>, <code><a href="dunaj.identifier.spi.html#INamespaced">INamespaced</a></code>, <code><a href="dunaj.state.spi.html#IReference">IReference</a></code>, <code><a href="dunaj.feature.spi.html#IValidator">IValidator</a></code></p>
</div>
<div class="paragraph docstring">
<p>A type for Vars.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#var_QMARK_">var?</a></code>, <code><a href="#def">def</a></code>, <code><a href="#declare">declare</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="alter_root_BANG_"><a class="link" href="#alter_root_BANG_">alter-root!</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (alias of clojure.core/alter-var-root)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(alter&#45;root! <em>v f &amp; args</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Var ⨯ AnyFn ⨯ (Va Any)) → Any</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Atomically alters the root binding of var <code><em>v</em></code> by applying <code><em>f</em></code>
to its current value plus any <code><em>args</em></code>. Mutates <code><em>var</em></code>.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#reset_root_BANG_">reset&#45;root!</a></code>, <code><a href="#bound_QMARK_">bound?</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="bindings"><a class="link" href="#bindings">bindings</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (alias of clojure.core/get-thread-bindings)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(bindings)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>() → {Var Any}</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Gets a map with the Var/value pairs which is currently in effect
for the current thread.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#with_bindings">with&#45;bindings</a></code>, <code><a href="#with_roots">with&#45;roots</a></code>, <code><a href="#letvar">letvar</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="bound_QMARK_"><a class="link" href="#bound_QMARK_">bound?</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (alias of clojure.core/bound?)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(bound? <em>&amp; vars</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>((Va Var)) → Boolean</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Returns <code>true</code> if all of the vars provided as arguments have any
bound value, root or thread-local. Implies that deref’ing the
provided vars will succeed. Returns <code>true</code> if no vars are provided.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#thread_bound">thread&#45;bound</a></code>, <code><a href="#alter_root_BANG_">alter&#45;root!</a></code>, <code><a href="#reset_root_BANG_">reset&#45;root!</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="declare"><a class="link" href="#declare">declare</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (alias of clojure.core/declare)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-magic" title="Macro!"></i></span> MACRO</code>  <code>(declare <em>&amp; names</em>)</code></p>
</div>
<div class="paragraph docstring">
<p>defs the supplied var names with no bindings,
useful for making forward declarations.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#defonce">defonce</a></code>, <code><a href="#def">def</a></code>, <code><a href="#defalias">defalias</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="def"><a class="link" href="#def">def</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (alias of clojure.bootstrap/def+)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-magic" title="Macro!"></i></span> MACRO</code>  <code>(def <em>name</em>)</code>&#160;  <code>(def <em>name def-arguments init</em>)</code></p>
</div>
<div class="paragraph docstring">
<p>Defines a var and returns it. The var definition process creates
and interns or locates a global var with given <code><em>name</em></code> and a
namespace of the value of the current namespace.</p>
</div>
<div class="paragraph">
<p>If initial value (last argument besides <code><em>name</em></code>) is supplied,
it is evaluated, and the root binding of the var is set to the
resulting value. If initial value is not supplied, the root
binding of the var is unaffected.</p>
</div>
<div class="paragraph">
<p><code>def</code> always applies to the root binding, even if the var is
thread-bound at the point where def is called. <code><em>name</em></code> is an
unqualified <code>Symbol</code>. Metadata from <code><em>name</em></code> is used as a metadata
of the var. Rest of arguments (args) are parsed for docstring and
attribute map, which are merged with vars metadata.</p>
</div>
<div class="paragraph">
<p>Throws an exception if <code><em>name</em></code> symbol is already in the namespace
and not mapped to an interned var.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Use <code>def+</code> instead of <code>def</code> in dunaj lite.
</td>
</tr>
</table>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#defonce">defonce</a></code>, <code><a href="#declare">declare</a></code>, <code><a href="#defalias">defalias</a></code>, <code><a href="#def_PLUS_">def+</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="def_PLUS_"><a class="link" href="#def_PLUS_">def+</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (alias of clojure.bootstrap/def+)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-magic" title="Macro!"></i></span> MACRO</code>  <code>(def+ <em>name</em>)</code>&#160;  <code>(def+ <em>name def-arguments init</em>)</code></p>
</div>
<div class="paragraph docstring">
<p>Like def, but can be used in dunaj lite.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#defonce">defonce</a></code>, <code><a href="#declare">declare</a></code>, <code><a href="#defalias">defalias</a></code>, <code><a href="#def">def</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="defalias"><a class="link" href="#defalias">defalias</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (alias of clojure.bootstrap/defalias)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-magic" title="Macro!"></i></span> MACRO</code>  <code>(defalias <em>name</em>)</code>&#160;  <code>(defalias <em>name def-arguments aliased</em>)</code></p>
</div>
<div class="paragraph docstring">
<p>Defines a var with the same root binding and metadata as the
aliased var.</p>
</div>
<div class="paragraph">
<p>Aliased var name is optional and if not provided, it will be
constructed as <code>clojure.core/&lt;_name_&gt;</code>.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#defonce">defonce</a></code>, <code><a href="#declare">declare</a></code>, <code><a href="#def">def</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="defonce"><a class="link" href="#defonce">defonce</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (alias of clojure.bootstrap/defonce)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-magic" title="Macro!"></i></span> MACRO</code>  <code>(defonce <em>name</em>)</code>&#160;  <code>(defonce <em>name doc-string? attr-map? init</em>)</code></p>
</div>
<div class="paragraph docstring">
<p>Defines a var, sets root binding if not yet set and returns
the var.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#def">def</a></code>, <code><a href="#declare">declare</a></code>, <code><a href="#defalias">defalias</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="find_var"><a class="link" href="#find_var">find-var</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (alias of clojure.core/find-var)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(find&#45;var <em>sym</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Symbol) → (Maybe Var)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Returns the global var named by the namespace-qualified symbol
<code><em>sym</em></code>, or <code>nil</code> if there is no var with that name.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#var">var</a></code>, <code><a href="#def">def</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="letvar"><a class="link" href="#letvar">letvar</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (alias of clojure.core/with-local-vars)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-magic" title="Macro!"></i></span> MACRO</code>  <code>(letvar <em>bindings &amp; body</em>)</code></p>
</div>
<div class="paragraph docstring">
<p>Executes the <code><em>body</em></code> in a context in which the symbols in
<code><em>bindings</em></code> vec are bound to vars with per-thread bindings to the
respective init-exprs. The symbols refer to the var objects
themselves, and can be accessed with <code>deref</code> and <code>reset!</code>.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#with_bindings">with&#45;bindings</a></code>, <code><a href="#with_roots">with&#45;roots</a></code>, <code><a href="#bindings">bindings</a></code>, <code><a href="#def">def</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="replace_macro_BANG_"><a class="link" href="#replace_macro_BANG_">replace-macro!</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/state/var.clj#L211">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-magic" title="Macro!"></i></span> MACRO</code>  <code>(replace-macro! <em>dest source-var</em>)</code></p>
</div>
<div class="paragraph docstring">
<p>Replaces <code><em>dest</em></code> global var with <code><em>source</em></code> one, assuming source
var contains a macro.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#replace_var">replace&#45;var</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="replace_var_BANG_"><a class="link" href="#replace_var_BANG_">replace-var!</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (alias of clojure.bootstrap/replace-var!)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-magic" title="Macro!"></i></span> MACRO</code>  <code>(replace-var! <em>dest</em>)</code>&#160;  <code>(replace-var! <em>dest source</em>)</code></p>
</div>
<div class="paragraph docstring">
<p>Replaces <code><em>dest</em></code> global var with <code><em>source</em></code> one, assuming source
var does not contain a macro.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#replace_macro_BANG_">replace&#45;macro!</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="reset_root_BANG_"><a class="link" href="#reset_root_BANG_">reset-root!</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/state/var.clj#L100">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(reset&#45;root! <em>var val</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Var ⨯ Any) → Any</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Resets root value of <code><em>var</em></code> to <code><em>val</em></code>.
Returns new value. Mutates <code><em>var</em></code>.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#alter_root_BANG_">alter&#45;root!</a></code>, <code><a href="#bound_QMARK_">bound?</a></code>, <code><a href="dunaj.state.api.html#reset_BANG_">dunaj.state/reset!</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="thread_bound_QMARK_"><a class="link" href="#thread_bound_QMARK_">thread-bound?</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (alias of clojure.core/thread-bound?)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(thread&#45;bound? <em>&amp; vars</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>((Va Var)) → Boolean</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Returns <code>true</code> if all of the vars provided as arguments have
thread-local bindings. Implies that set!'ing the provided vars
will succeed. Returns <code>true</code> if no vars are provided.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#bound_QMARK_">bound?</a></code>, <code><a href="dunaj.state.api.html#reset_BANG_">dunaj.state/reset!</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="var"><a class="link" href="#var">var</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/state/var.clj#L186">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-magic" title="Macro!"></i></span> MACRO</code>  <code>(var <em>symbol</em>)</code></p>
</div>
<div class="paragraph docstring">
<p>The symbol must resolve to a global var, and the Var object itself
(not its value) is returned.
The reader macro #'x expands to (var x).</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#find_var">find&#45;var</a></code>, <code><a href="#def">def</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="var_QMARK_"><a class="link" href="#var_QMARK_">var?</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/state/var.clj#L50">view source</a>)</p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(var? <em>x</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph dd-usage">
<p>Type signature: <code>Predicate</code></p>
</div>
<div class="paragraph docstring">
<p>Returns <code>true</code> if object <code><em>x</em></code> is an instance of <code>Var</code> type, <code>false</code> otherwise.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#Var">Var</a></code>, <code><a href="#def">def</a></code>, <code><a href="#declare">declare</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="with_bindings"><a class="link" href="#with_bindings">with-bindings</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (alias of clojure.core/with-bindings)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-magic" title="Macro!"></i></span> MACRO</code>  <code>(with-bindings <em>binding-map &amp; body</em>)</code></p>
</div>
<div class="paragraph docstring">
<p>Takes a map of Var/value pairs. Installs for the given Vars the
associated values as thread-local bindings. Then executes <code><em>body</em></code>.
Pops the installed bindings after <code><em>body</em></code> was evaluated.
Returns the value of <code><em>body</em></code>.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#bindings">bindings</a></code>, <code><a href="#with_roots">with&#45;roots</a></code>, <code><a href="#letvar">letvar</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="with_roots"><a class="link" href="#with_roots">with-roots</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/state/var.clj#L238">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-magic" title="Macro!"></i></span> MACRO</code>  <code>(with-roots <em>binding-map &amp; body</em>)</code></p>
</div>
<div class="paragraph docstring">
<p>Temporarily redefines Vars during the execution of <code><em>body</em></code>.
Each val of binding-map will replaces the root value of its
key which must be a Var. After the <code><em>body</em></code> is executed, the root
values of all the Vars will be set back to their old values.
These temporary changes will be visible in all threads.
Useful for mocking out functions during testing.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#with_bindings">with&#45;bindings</a></code>, <code><a href="#bindings">bindings</a></code>, <code><a href="#letvar">letvar</a></code></p>
</div>
</div></div></section></div><script>window.onload = function() {document.getElementById('dd-focus').focus();}</script>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-06-21 15:15:18 CEST
</div>
</div>
</body>
</html>