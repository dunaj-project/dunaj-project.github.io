<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<meta name="author" content="Jozef Wagner">
<title>dunaj.resource SPI</title>
<link rel="stylesheet" href="./dd.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>dunaj.resource SPI</h1>
<div class="details">
<span id="author" class="author">Jozef Wagner</span><br>
<span id="revdate">0.6.0</span>
</div>
</div>
<div id="content">
<header id="dd-header"><div id="dd-logo"><a href="http://www.dunaj.org"><img src="dunaj.png"></img>Dunaj</a></div><div id="dd-mmenu"><a class="dd-mmlink" href="about.html"><i class="fa fa-info-circle dd-mmsh"></i> <span>About</span></a><a class="dd-mmlink" href="news.html"><i class="fa fa-bullhorn dd-mmsh"></i> <span>News</span></a><a class="dd-mmlink" href="start.html"><i class="fa fa-download dd-mmsh"></i> <span>Getting Started</span></a><a class="dd-mmlink dd-mmcur" href="doc.html"><i class="fa fa-book dd-mmsh"></i> <span>Documentation</span></a><a class="dd-mmlink" href="https://github.com/dunaj-project"><i class="fa fa-github dd-mmsh"></i> <span>Source at Github</span></a></div></header><div id="dd-flex"><nav id="dd-side-nav"><div class="dd-over"><div class="dd-nav-doc-header"><a href="spi.html">SPI</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-0">dunaj</div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.buffer.spi.html">.buffer</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.coll.spi.html">.coll</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.coll.helper.spi.html">.helper</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.compare.spi.html">.compare</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.concurrent.spi.html">.concurrent</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.concurrent.forkjoin.spi.html">.forkjoin</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.concurrent.port.spi.html">.port</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.concurrent.thread.spi.html">.thread</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.error.spi.html">.error</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.feature.spi.html">.feature</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.flow.spi.html">.flow</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.format.spi.html">.format</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.format.parser.spi.html">.parser</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.format.printer.spi.html">.printer</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.function.spi.html">.function</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.identifier.spi.html">.identifier</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.math.spi.html">.math</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.math.random.spi.html">.random</a></div><div class="dd-nav-doc-item-cur dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.resource.spi.html">.resource</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.resource.file.spi.html">.file</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.resource.selector.spi.html">.selector</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.state.spi.html">.state</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-2"><a href="dunaj.state.ref.spi.html">.ref</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.string.spi.html">.string</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.time.spi.html">.time</a></div><div class="dd-nav-doc-ns dd-nav-doc-item-1"><a href="dunaj.type.spi.html">.type</a></div><br></br></div></nav><nav id="dd-ns-nav"><div class="dd-over"><div class="dd-nav-ns-header"><a href="#dd-top">dunaj.resource</a></div><div class="dd-nav-ns-var dd-nav-ns-proto"><a href="#IAcquirableFactory"><i class="dd-referred fa fa-fw fa-plug dd-mmsh"></i><span class="dd-referred dd-nav-ns-var-text">IAcquirableFactory</span></a></div><div class="dd-nav-ns-var"><a href="#_acquire_BANG_"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">-acquire!</span></a></div><div class="dd-nav-ns-var dd-nav-ns-proto"><a href="#IConfigurable"><i class="dd-referred fa fa-fw fa-plug dd-mmsh"></i><span class="dd-referred dd-nav-ns-var-text">IConfigurable</span></a></div><div class="dd-nav-ns-var"><a href="#_autoconf"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">-autoconf</span></a></div><div class="dd-nav-ns-var dd-nav-ns-proto"><a href="#IControllable"><i class="fa fa-fw fa-plug dd-mmsh"></i><span class="dd-nav-ns-var-text">IControllable</span></a></div><div class="dd-nav-ns-var"><a href="#_controller"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">-controller</span></a></div><div class="dd-nav-ns-var dd-nav-ns-proto"><a href="#IFlushable"><i class="fa fa-fw fa-plug dd-mmsh"></i><span class="dd-nav-ns-var-text">IFlushable</span></a></div><div class="dd-nav-ns-var"><a href="#_flush_BANG_"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">-flush!</span></a></div><div class="dd-nav-ns-var dd-nav-ns-proto"><a href="#IImmutableReadable"><i class="fa fa-fw fa-plug dd-mmsh"></i><span class="dd-nav-ns-var-text">IImmutableReadable</span></a></div><div class="dd-nav-ns-var"><a href="#_read"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">-read</span></a></div><div class="dd-nav-ns-var dd-nav-ns-proto"><a href="#IReadable"><i class="fa fa-fw fa-plug dd-mmsh"></i><span class="dd-nav-ns-var-text">IReadable</span></a></div><div class="dd-nav-ns-var"><a href="#_read_BANG_"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">-read!</span></a></div><div class="dd-nav-ns-var dd-nav-ns-proto"><a href="#IReleasable"><i class="fa fa-fw fa-plug dd-mmsh"></i><span class="dd-nav-ns-var-text">IReleasable</span></a></div><div class="dd-nav-ns-var"><a href="#_release_BANG_"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">-release!</span></a></div><div class="dd-nav-ns-var dd-nav-ns-proto"><a href="#IRequestable"><i class="fa fa-fw fa-plug dd-mmsh"></i><span class="dd-nav-ns-var-text">IRequestable</span></a></div><div class="dd-nav-ns-var"><a href="#_request_BANG_"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">-request!</span></a></div><div class="dd-nav-ns-var dd-nav-ns-proto"><a href="#ISeekable"><i class="fa fa-fw fa-plug dd-mmsh"></i><span class="dd-nav-ns-var-text">ISeekable</span></a></div><div class="dd-nav-ns-var"><a href="#_size"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">-size</span></a></div><div class="dd-nav-ns-var"><a href="#_position"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">-position</span></a></div><div class="dd-nav-ns-var dd-nav-ns-proto"><a href="#IStatusable"><i class="fa fa-fw fa-plug dd-mmsh"></i><span class="dd-nav-ns-var-text">IStatusable</span></a></div><div class="dd-nav-ns-var"><a href="#_status"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">-status</span></a></div><div class="dd-nav-ns-var dd-nav-ns-proto"><a href="#ISystem"><i class="fa fa-fw fa-plug dd-mmsh"></i><span class="dd-nav-ns-var-text">ISystem</span></a></div><div class="dd-nav-ns-var dd-nav-ns-proto"><a href="#IWritable"><i class="fa fa-fw fa-plug dd-mmsh"></i><span class="dd-nav-ns-var-text">IWritable</span></a></div><div class="dd-nav-ns-var"><a href="#_write_BANG_"><i class="fa fa-fw fa-chevron-right dd-vn"></i><span class="dd-nav-ns-var-text">-write!</span></a></div><br></br></div></nav><section id="dd-content"><div class="dd-over" tabindex="-1" id="dd-focus"><div id="header"><h1 id="dd-top">dunaj.resource SPI</h1><div class="details">Copyright © 2013, 2015, &nbsp;<span class="author">Jozef Wagner</span><br><span id="revdate">version 0.6.0</span><div id="dd-switch"><i class="fa fa-fw fa-info-circle"></i> See <a href="dunaj.resource.api.html">API documentation</a> for this namespace.</div></div></div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Computer and network resources, systems, scopes.</p>
</div>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="IAcquirableFactory"><a class="link" href="#IAcquirableFactory">IAcquirableFactory</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L394">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-plug" title="Protocol"></i></span> PROTOCOL</code> with method <code><a href="#_acquire_BANG_">-acquire!</a></code></p>
</div>
<div class="paragraph docstring">
<p>A factory protocol for objects that can be acquired.
By convention, resource uri (if object to be acquired is a
resource) is stored under <code>:uri</code> key and scope options, if any,
are stored under <code>:scope</code> key.</p>
</div>
<div class="paragraph">
<p>If a factory object also implements <code>ISystem</code> protocol,
<code>start!</code> should be used instead, which implicitly calls
<code>acquire!</code> when all dependencies are resolved.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="dunaj.resource.api.html#acquirable_QMARK_">acquirable?</a></code>, <code><a href="dunaj.resource.api.html#acquire_BANG_">acquire!</a></code>, <code><a href="dunaj.resource.api.html#resource">resource</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="_acquire_BANG_"><a class="link" href="#_acquire_BANG_">-acquire!</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L394">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(&#45;acquire! <em>factory</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Any) → Any</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Returns an acquired object. Does not neccessarily have to
be releasable.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#IAcquirableFactory">IAcquirableFactory</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="IConfigurable"><a class="link" href="#IConfigurable">IConfigurable</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L376">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-plug" title="Protocol"></i></span> PROTOCOL</code> with method <code><a href="#_autoconf">-autoconf</a></code></p>
</div>
<div class="paragraph docstring">
<p>A feature protocol for objects that can be automatically
configured, either fully or partially, from external configuration
map.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="dunaj.resource.api.html#system">system</a></code>, <code><a href="dunaj.resource.api.html#start_BANG_">start!</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="_autoconf"><a class="link" href="#_autoconf">-autoconf</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L376">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(&#45;autoconf <em>this</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Any) → [&#93;</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Returns collection of maps that specifies how individual
fields should be configured. Example:
<code>[{:key :field-name :path [:path :in :cfg] :type ValueType}]</code>
When no type is specified, configuration framework should use
field&#8217;s type signature for that. Can return just path instead, if
all fields are on the same path and default types should be used.
Can return <code>:default</code> in which case the configuration framework
constructs path from type&#8217;s namespace.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#IConfigurable">IConfigurable</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="IControllable"><a class="link" href="#IControllable">IControllable</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L590">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-plug" title="Protocol"></i></span> PROTOCOL</code> with method <code><a href="#_controller">-controller</a></code></p>
</div>
<div class="paragraph docstring">
<p>A protocol for resources with controllers.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="dunaj.resource.api.html#controllable_QMARK_">controllable?</a></code>, <code><a href="dunaj.resource.api.html#controller">controller</a></code>, <code><a href="dunaj.resource.api.html#control_BANG_">control!</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="_controller"><a class="link" href="#_controller">-controller</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L590">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(&#45;controller <em>this</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Any) → IAdjustable</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Returns mutable reference to the controller map.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#IControllable">IControllable</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="IFlushable"><a class="link" href="#IFlushable">IFlushable</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L670">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-plug" title="Protocol"></i></span> PROTOCOL</code> with method <code><a href="#_flush_BANG_">-flush!</a></code></p>
</div>
<div class="paragraph docstring">
<p>A protocol for flushable objects.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="dunaj.resource.api.html#flushable_QMARK_">flushable?</a></code>, <code><a href="dunaj.resource.api.html#flush">flush</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="_flush_BANG_"><a class="link" href="#_flush_BANG_">-flush!</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L670">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(&#45;flush! <em>this</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Any) → nil</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Flushes any pending operations, returns <code>nil</code>. May block.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#IFlushable">IFlushable</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="IImmutableReadable"><a class="link" href="#IImmutableReadable">IImmutableReadable</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L469">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-plug" title="Protocol"></i></span> PROTOCOL</code> with method <code><a href="#_read">-read</a></code></p>
</div>
<div class="paragraph docstring">
<p>A protocol for objects that support immutable reads.
This protocol should be implemented on resource factories, not
on acquired resources.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="dunaj.resource.api.html#read">read</a></code>, <code><a href="dunaj.resource.api.html#read_BANG_">read!</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="_read"><a class="link" href="#_read">-read</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L469">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(&#45;read <em>this</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Any) → IRed</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Returns finite collection recipe attached to <code><em>this</em></code>.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#IImmutableReadable">IImmutableReadable</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="IReadable"><a class="link" href="#IReadable">IReadable</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L488">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-plug" title="Protocol"></i></span> PROTOCOL</code> with method <code><a href="#_read_BANG_">-read!</a></code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-close" title="Extensions forbidden"></i></span> extensions of this protocol on existing types are <strong>forbidden</strong> (performance and/or backwards compatibility reasons).</code></p>
</div>
<div class="paragraph docstring">
<p>A protocol for readable objects. May return postponed object
if object is in non-blocking mode. It is a conscious decision
to not support timeouts. Such logic should be handled up in the
abstraction by e.g. channels.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="dunaj.resource.api.html#readable_QMARK_">readable?</a></code>, <code><a href="dunaj.resource.api.html#read_BANG_">read!</a></code>, <code><a href="dunaj.resource.api.html#read">read</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="_read_BANG_"><a class="link" href="#_read_BANG_">-read!</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L488">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(&#45;read! <em>this</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Any) → IRed</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Returns collection recipe attached to <code><em>this</em></code>.
Returned collection recipe must be reduced inside <code>io!</code> block.
The returned collection recipe may be infinite and may block.</p>
</div>
<div class="paragraph">
<p>Reducing collection while it is being released may end
by reduction premature end or by an I/O exception.
It is thus advised to either expect an exception or to
stop reducing before releasing the resource.</p>
</div>
<div class="paragraph">
<p>May return postponed object if <code><em>this</em></code> is in a
non-blocking mode.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#IReadable">IReadable</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="IReleasable"><a class="link" href="#IReleasable">IReleasable</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L120">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-plug" title="Protocol"></i></span> PROTOCOL</code> with method <code><a href="#_release_BANG_">-release!</a></code></p>
</div>
<div class="paragraph docstring">
<p>A state protocol for releasable objects. Note that there are no
public functions for this protocol, as the release process should
be handled through scopes. Types implementing <code>IReleasable</code> must
also call <code>-release!</code> in their <code>finalize</code> method.
<code>defreleasable</code> macro handles this transparently.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="dunaj.resource.api.html#releasable_QMARK_">releasable?</a></code>, <code><a href="dunaj.resource.api.html#release_scope_BANG_">release&#45;scope!</a></code>, <code><a href="dunaj.resource.api.html#with_scope">with&#45;scope</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="_release_BANG_"><a class="link" href="#_release_BANG_">-release!</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L120">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(&#45;release! <em>this</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Any) → nil</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Releases this object, blocking until the release is not
finished (either successfully or not). Releasing an object not
in OPEN state must be a nop. Returns nil. Throws if
release has failed. Object must not be left in OPEN state both
during the release process is running and after the release
process is done (either successfully or not).
Thread safe resources must manage their state so that several
threads calling -release!, open?, etc. will work fine.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#IReleasable">IReleasable</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="IRequestable"><a class="link" href="#IRequestable">IRequestable</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L686">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-plug" title="Protocol"></i></span> PROTOCOL</code> with method <code><a href="#_request_BANG_">-request!</a></code></p>
</div>
<div class="paragraph docstring">
<p>A protocol for synchronized requestable objects.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
experimental, subject to change.
</td>
</tr>
</table>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="dunaj.resource.api.html#request_BANG_">request!</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="_request_BANG_"><a class="link" href="#_request_BANG_">-request!</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L686">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(&#45;request! <em>this request</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Any ⨯ Any) → Any</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Returns a response to the <code>request</code>. Blocks.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#IRequestable">IRequestable</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="ISeekable"><a class="link" href="#ISeekable">ISeekable</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L643">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-plug" title="Protocol"></i></span> PROTOCOL</code> with methods <code><a href="#_size">-size</a></code>, <code><a href="#_position">-position</a></code></p>
</div>
<div class="paragraph docstring">
<p>A protocol for seekable objects with fixed size.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="dunaj.resource.api.html#seekable_QMARK_">seekable?</a></code>, <code><a href="dunaj.resource.api.html#size">size</a></code>, <code><a href="dunaj.resource.api.html#position">position</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="_size"><a class="link" href="#_size">-size</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L643">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(&#45;size <em>this</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Any) → Integer</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Returns the current size of <code><em>this</em></code>.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#ISeekable">ISeekable</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="_position"><a class="link" href="#_position">-position</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L643">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(&#45;position <em>this</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Any) → IMutable</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Returns a mutable reference to the current position.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#ISeekable">ISeekable</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="IStatusable"><a class="link" href="#IStatusable">IStatusable</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L617">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-plug" title="Protocol"></i></span> PROTOCOL</code> with method <code><a href="#_status">-status</a></code></p>
</div>
<div class="paragraph docstring">
<p>A protocol for statusable objects.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="dunaj.resource.api.html#statusable_QMARK_">statusable?</a></code>, <code><a href="dunaj.resource.api.html#status">status</a></code>, <code><a href="dunaj.resource.api.html#status_of">status&#45;of</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="_status"><a class="link" href="#_status">-status</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L617">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(&#45;status <em>this</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Any) → IReference</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Returns an immutable reference to the status map.
Returned reference usually also behaves as a Mult.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#IStatusable">IStatusable</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="ISystem"><a class="link" href="#ISystem">ISystem</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L833">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-plug" title="Protocol"></i></span> MARKER PROTOCOL</code></p>
</div>
<div class="paragraph docstring">
<p>A marker protocol for system objects which should be started
with <code>start!</code> function.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="dunaj.resource.api.html#system_QMARK_">system?</a></code>, <code><a href="dunaj.resource.api.html#start_BANG_">start!</a></code>, <code><a href="dunaj.resource.api.html#acquire_BANG_">acquire!</a></code>, <code><a href="dunaj.resource.api.html#system">system</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="IWritable"><a class="link" href="#IWritable">IWritable</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L542">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-plug" title="Protocol"></i></span> PROTOCOL</code> with method <code><a href="#_write_BANG_">-write!</a></code></p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-close" title="Extensions forbidden"></i></span> extensions of this protocol on existing types are <strong>forbidden</strong> (performance and/or backwards compatibility reasons).</code></p>
</div>
<div class="paragraph docstring">
<p>A protocol for writable object. It is a conscious decision to not
support timeouts. Such logic should be handled up in the
abstraction tree by e.g. channels.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="dunaj.resource.api.html#writable_QMARK_">writable?</a></code>, <code><a href="dunaj.resource.api.html#write_BANG_">write!</a></code>, <code><a href="dunaj.resource.api.html#write_one_BANG_">write&#45;one!</a></code></p>
</div>
</div>
<div class="sect2 dd-var">
<h3 id="_write_BANG_"><a class="link" href="#_write_BANG_">-write!</a></h3>
<div class="paragraph dd-added">
<p>Available since version 1.0 (<a href="https://github.com/dunaj-project/dunaj/tree/master/src/clj/dunaj/resource.clj#L542">view source</a>)</p>
</div>
<div class="paragraph">
<p><code><span class="icon"><i class="fa fa-unlink" title="Not referred"></i></span> not referred automatically</code></p>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(&#45;write! <em>this coll</em>)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist dd-usage">
<dl>
<dt class="hdlist1">Type signature: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>(Any ⨯ IRed) → (U Integer Postponed)</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph docstring">
<p>Writes <code><em>coll</em></code> into <code><em>this</em></code> and returns number of items
written. Blocks or returns postponed object if in non-blocking
mode. Throws if I/O error occurs.</p>
</div>
<div class="paragraph see">
<p><span class="icon"><i class="fa fa-share" title="See also"></i></span> See also: <code><a href="#IWritable">IWritable</a></code></p>
</div>
</div></div></section></div><script>window.onload = function() {document.getElementById('dd-focus').focus();}</script>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-06-21 16:41:24 CEST
</div>
</div>
</body>
</html>